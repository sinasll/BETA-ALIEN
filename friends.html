<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Friends</title>
    <link rel="stylesheet" href="friendsstyle.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Font Awesome CDN for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap">
    <script>
        window.onload = function() {
            // Initialize Telegram Web App
            Telegram.WebApp.init();

            // Check if Telegram Web App SDK is available
            if (Telegram.WebApp) {
                // Access the user's Telegram username
                const username = Telegram.WebApp.initDataUnsafe?.user?.username || "USER";
                // Update the username span with the Telegram username
                document.getElementById('username').textContent = username;
            }
        };

        async function inviteFriend() {
            const botUsername = '@minortappingbot'; // Replace with your bot username
            const inviteLink = `https://t.me/${minortappingbot}?start=invite_${Telegram.WebApp.initDataUnsafe?.user?.username}`;
            const message = `GET SOME ALIENS AND REWARDS HERE: ${inviteLink}`;

            // Prompt the user to share the invite link
            Telegram.WebApp.sendData(message);

            // Simulate storing the invite link (could be on a server)
            console.log('Invite link sent:', inviteLink);

            // Optionally inform the user that the invitation has been sent
            alert('Invitation link generated. Please share it with your friends!');
        }

        function addFriendToList(username) {
            const friendsList = document.getElementById('friends-list');
            const friendItem = document.createElement('div');
            friendItem.className = 'friend-item';
            friendItem.textContent = username;
            friendsList.appendChild(friendItem);
        }
    </script>
</head>
<body>
    <!-- Header with score -->
    <header>
        <div class="profile">
            <img src="alien.png" alt="Profile Picture" class="profile-pic"> <!-- Profile Picture -->
            <span id="username" class="username">USER</span> <!-- Default text -->
        </div>
        <div class="score-container">
            <span class="score">0</span>
            <img src="alincoin.png" alt="Alien Icon" class="alien-icon">
        </div>
    </header>

    <!-- Friends Section -->
    <div class="friends-container">
        <h3 class="prize">Get 100 ALIENS for each friend you invite</h3>
        <button class="button invite-button" onclick="inviteFriend()">Invite a friend</button>
        <div id="friends-list" class="friends-list">
            <!-- Friend items will be dynamically added here -->
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav>
        <ul class="nav-bar">
            <li class="nav-item">
                <a href="gamestation.html"><i class="fas fa-gamepad" aria-hidden="true"></i></a> <!-- Game Icon -->
            </li>
            <li class="nav-item">
                <a href="tasks.html"><i class="fas fa-tasks" aria-hidden="true"></i></a> <!-- Task Icon -->
            </li>
            <li class="nav-item active">
                <a href="friends.html"><i class="fas fa-users" aria-hidden="true"></i></a> <!-- Friends Icon -->
            </li>
        </ul>
    </nav>
</body>
</html>
